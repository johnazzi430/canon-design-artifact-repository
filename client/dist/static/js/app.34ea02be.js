(function(t){function e(e){for(var a,s,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"06d4":function(t,e,n){},"07dd":function(t,e,n){},"0b7d":function(t,e,n){},"0b9c":function(t,e){},"1e69":function(t,e,n){"use strict";var a=n("0b9c"),r=n.n(a);e["default"]=r.a},"21c4":function(t,e,n){"use strict";var a=n("e0bc"),r=n.n(a);r.a},"23cc":function(t,e,n){},"3a62":function(t,e,n){},"3b62":function(t,e,n){"use strict";var a=n("6476"),r=n.n(a);r.a},"3ffc":function(t,e,n){},4308:function(t,e,n){"use strict";var a=n("447f"),r=n.n(a);r.a},"447f":function(t,e,n){},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d574","./pl.js":"8d574","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="4678"},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("fb6a"),n("0d03"),n("d3b7"),n("25f0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("app-nav"),t._l(this.$store.state.alert.slice().reverse(),(function(e,a){return n("div",{key:e.time,staticClass:"alert-container",style:{top:60+50*a+"px"}},[n("b-alert",{staticClass:"alert",attrs:{fade:"",variant:e.variant,show:e.show,dismissible:""},on:{dismissed:function(t){e.show=!1}}},[t._v(" "+t._s(e.content)+" ")])],1)})),n("router-view")],2)},i=[],s=(n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{staticClass:"navbar-expand-lg navbar-dark",staticStyle:{"padding-left":"30px","border-radius":"0px"},attrs:{toggleable:"sm"}},[n("b-navbar-toggle",{attrs:{target:"navbar-main"}}),n("b-navbar-brand",{attrs:{to:"/"}},[t._v(" Canon "),n("h6",{staticClass:"subscript"},[t._v("Product Artifact Repository")])]),n("b-collapse",{attrs:{"is-nav":"",id:"navbar-main"}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{to:"/insight"}},[t._v("Insight")]),n("b-nav-item",{attrs:{to:"/persona"}},[t._v("Persona")]),n("b-nav-item",{attrs:{to:"/product"}},[t._v("Product")]),n("b-nav-item",{attrs:{to:"/playlist"}},[t._v("Playlist")]),n("b-nav-item",{attrs:{to:"/about"}},[t._v("About")]),"admin"===t.user.role?n("b-nav-item",{attrs:{to:"/admin"}},[t._v("Admin")]):t._e()],1),t.isLoggedIn?n("b-navbar-nav",{staticClass:"ml-auto",style:{right:"30px",position:"absolute"}},[n("b-nav-item",[t._v("User: "+t._s(t.user.username.split("@")[0])+" ")]),n("b-nav-item",{on:{click:t.logout}},[t._v("Logout")])],1):t._e()],1)],1)],1)}),o=[],l=n("2f62"),c=n("bc3a"),u=n.n(c),d=(n("ac1f"),n("1276"),new a["default"]);a["default"].use(l["a"]);var p=new l["a"].Store({state:{status:"",token:localStorage.getItem("token")||"",user:{username:"",role:null},alert:[]},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e){t.status="success",t.token=e.token,t.user=e.user},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token=null,t.user={username:"",role:null}},alert:function(t,e){t.alert.push({time:Date.now(),show:e.show,variant:e.variant,content:e.content})}},actions:{ADlogin:function(t,e){var n=t.commit;return new Promise((function(t,a){e.username=e.userName,n("auth_request"),u()({method:"post",url:"/api/AD-login",data:e,header:{"Content-Type":"application/json"}}).then((function(a){var r=a.data.token;localStorage.setItem("token",r),u.a.defaults.headers.common["Authorization"]=r,n({type:"auth_success",token:r,user:e}),t(a)})).catch((function(t){n("auth_error"),localStorage.removeItem("token"),a(t)}))}))},login:function(t,e){var n=t.commit;return new Promise((function(t,a){n("auth_request"),u()({method:"post",url:"/api/login",data:e,header:{"Content-Type":"application/json"}}).then((function(e){var a=e.data.token,r=e.data.user;localStorage.setItem("token",a),u.a.defaults.headers.common["Authorization"]=a,n({type:"auth_success",token:a,user:r}),t(e)})).catch((function(t){n("auth_error"),localStorage.removeItem("token"),a(t)}))}))},enter:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:u()({method:"get",url:"/api/users",params:{session:"true"}}).then((function(e){return t.commit({type:"auth_success",token:localStorage.getItem("token")||"",user:e.data[0]}),!0}));case 1:case"end":return e.stop()}}))},logout:function(t){var e=t.commit;return new Promise((function(t,n){e("logout"),localStorage.removeItem("token"),delete u.a.defaults.headers.common["Authorization"]}))}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},user:function(t){return t.user},alert:function(t){return t.alert}}}),f={computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},user:function(){return this.$store.getters.user==={username:""}&&(this.$store.dispatch("logout"),this.$router.push("/login")),this.$store.getters.user}},methods:{logout:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(u()({method:"post",url:"/api/logout"}));case 2:this.$store.dispatch("logout"),this.$router.push("/login");case 4:case"end":return t.stop()}}),null,this)}}},m=f,h=(n("5b493"),n("2877")),v=Object(h["a"])(m,s,o,!1,null,null,null),b=v.exports,g={name:"app",components:{"app-nav":b},beforeCreate:function(){this.$store.dispatch("enter")},created:function(){this.$http.interceptors.response.use(void 0,(function(t){return new Promise((function(e,n){throw 401===t.status&&t.config&&!t.config.__isRetryRequest&&this.$store.dispatch(logout),t}))}))},computed:{alert:function(){this.$store.state.alert}},methods:{logout:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(u()({method:"post",url:"/api/logout"}));case 2:this.$store.dispatch("logout"),this.$router.push("/login");case 4:case"end":return t.stop()}}),null,this)},SendAlert:function(){this.$store.commit({type:"alert",show:5,variant:"info",content:"TESTING!"})}}},_=g,y=(n("034f"),Object(h["a"])(_,r,i,!1,null,null,null)),w=y.exports,x=n("5f5b"),C=n("8e5f"),k=n.n(C),j=n("d8c5"),$=n.n(j),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playlist-button"},[!0===t.isOnPlaylist?n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.removeFromPlaylist()}}},[t._m(0)]):n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.addToPlaylist()}}},[t._m(1)])])},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"fa-2x fas fa-bookmark active",attrs:{id:"bookmarked"}}),n("span",{staticClass:"playlist-tooltip"},[t._v("Remove From Playlist")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"fa-2x far fa-bookmark",attrs:{id:"not-bookmarked"}}),n("span",{staticClass:"playlist-tooltip"},[t._v("Add to Playlist")])])}],R=(n("4160"),n("159b"),{name:"playlist-add",data:function(){return{isOnPlaylist:!1}},props:["source","source_id"],methods:{addToPlaylist:function(){var t=this;u()({method:"post",url:"/api/playlist",params:{source_table:t.source,source_id:t.source_id}}),this.isOnPlaylist=!0,t.$store.commit({type:"alert",show:2,variant:"info",content:t.source+" added to playlist"}),console.log("added to playlist")},removeFromPlaylist:function(){var t=this;u()({method:"Delete",url:"/api/playlist",params:{source_table:t.source,source_id:t.source_id}}),this.isOnPlaylist=!1,t.$store.commit({type:"alert",show:2,variant:"info",content:t.source+" removed from playlist"}),console.log("removed from playlist")}},beforeMount:function(){var t=this,e="/api/playlist";u.a.get(e).then((function(e){t.resp=e.data,t.resp.forEach((function(e){e.source_table==t.source&&e.source_id==t.source_id&&(t.isOnPlaylist=!0)}))})).catch((function(t){return console.log(t)}))}}),S=R,P=(n("4308"),Object(h["a"])(S,D,I,!1,null,"42f0cffc",null)),E=P.exports,A=n("c1df"),O=n.n(A),T=(n("b0c0"),n("8c4f")),F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("b-nav",{staticClass:"sidepanel-left",attrs:{id:"left-sidepanel",vertical:""}},[n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Cards"},on:{click:function(e){return t.changeView("card")}}},[n("i",{staticClass:"fa fa-user nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Cards")])]),n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Table"},on:{click:function(e){return t.changeView("table")}}},[n("i",{staticClass:"fa fa-list nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Table")])]),null!==this.selection?n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Detail"},on:{click:function(e){return t.expandDetail()}}},[n("i",{staticClass:"fa fa-align-left nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Details")])]):n("b-nav-item",{staticClass:"nav-link disabled",attrs:{href:"javascript:void(0)",id:"Detail"},on:{click:function(e){return t.expandDetail()}}},[n("i",{staticClass:"fa fa-align-left nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Details")])]),n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Add","data-toggle":"tooltip",title:"Add"},on:{click:function(e){t.addDataAction(),t.expandDetail()}}},[n("i",{staticClass:"fa fa-plus nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Add New")])])],1),n("div",{staticClass:"main",attrs:{id:"main"}},["table"===t.view?n("div",{key:t.view,attrs:{id:"persona-panel"}},[n("persona-data",{key:t.dataKey})],1):t._e(),"card"===t.view?n("div",{key:t.view},[n("persona-card",{key:t.dataKey},[t._v(">")])],1):t._e()]),n("div",{staticClass:"sidepanel-right",attrs:{id:"right-sidepanel"}},[n("h1",[n("a",{staticClass:"closebtn",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.closeDetail()}}},[t._v("×")])]),n("div",{attrs:{id:"side-panel-switcher"}},[n("persona-detail",{key:t.detailKey})],1)])],1)},N=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"80vh"}},[n("div",{staticClass:"test-header row",staticStyle:{margin:"15px"}},[n("b-alert",{attrs:{show:!0===this.alert_show,variant:"info",dismissible:""}},[t._v(" Data Updated "+t._s(this.alert_text)+" ")]),n("div",{staticClass:"col-2"},[t._v(" Selection: "),n("span",{attrs:{id:"selectedRows"}}),n("span",{attrs:{selectedRow:t.selectedRow}})]),n("div",{staticClass:"col-2"},[n("span",[t._v(" Search: ")]),n("input",{attrs:{type:"text",id:"filter-text-box",placeholder:"Filter..."},on:{input:function(e){return t.onFilterTextBoxChanged()}}})])],1),n("ag-grid-vue",{staticClass:"ag-theme-material",staticStyle:{width:"100vl",height:"83vh"},attrs:{columnDefs:t.columnDefs,rowData:t.rowData,modules:t.modules,rowSelection:"single",getRowHeight:t.getRowHeight},on:{"grid-ready":t.onGridReady,"selection-changed":t.onSelectionChanged}})],1)},q=[],B=n("228c"),M=n("0d1d"),V={name:"PersonaTable",data:function(){return{columnDefs:null,rowData:null,rowSelection:null,gridApi:null,gridOptions:null,modules:M["a"],selectedRow:null,defaultColDef:null,alert_show:!1,alert_text:null}},components:{AgGridVue:B["AgGridVue"]},beforeMount:function(){var t=this;this.defaultColDef={sortable:!0,resizable:!0,getQuickFilterText:function(t){return t.value.name}},this.gridOptions={enableBrowserTooltips:!0},this.rowSelection="single",this.columnDefs=[{headerName:"Title",field:"title",filter:"agTextColumnFilter",flex:1,width:200,resizable:!0,sortable:!0,cellClass:"cell-wrap-text"},{headerName:"Quote",field:"quote",filter:"agTextColumnFilter",width:400,resizable:!0,sortable:!0,cellClass:"cell-wrap-text",tooltipField:"quote"},{headerName:"    ",field:"external",width:50,headerTooltip:"External Persona",filter:"agNumberColumnFilter",resizable:!0,sortable:!0,cellRenderer:L},{headerName:"Qty",field:"market_size",headerTooltip:"Market Size",width:80,resizable:!0,sortable:!0},{headerName:"Roles",field:"roles",filter:"agTextColumnFilter",width:600,flex:4,resizable:!0,sortable:!0,tooltipField:"roles",cellRenderer:G,cellClass:"cell-wrap-text",minWidth:200,maxWidth:350}],fetch("/api/persona").then((function(t){return t.json()})).then((function(e){return t.rowData=e})),this.$nextTick((function(){fetch("/api/persona").then((function(t){return t.json()})).then((function(e){return t.rowData=e}))}))},mounted:function(){this.gridApi=this.gridOptions.api,this.gridColumnApi=this.gridOptions.columnApi;var t=this;d.$on("persona-changed",(function(e){fetch("/api/persona").then((function(t){return t.json()})).then((function(e){return t.rowData=e})),console.log("recived")}))},methods:{onGridReady:function(t){this.gridApi=t.api,this.columnApi=t.columnApi;try{t.api.context.beanWrappers.tooltipManager.beanInstance.MOUSEOVER_SHOW_TOOLTIP_TIMEOUT=0}catch(e){console.error(e)}},onColumnResized:function(){this.gridApi.resetRowHeights()},onSelectionChanged:function(){var t=this.gridApi.getSelectedRows(),e="",n="";t.forEach((function(t,a){0!==a&&(e+=", "),e+=t.name,n=t.id})),document.querySelector("#selectedRows").innerHTML=e,d.$emit("persona-selection-changed",this.selectedRow=n),this.$router.push("/persona/"+n)},onFilterTextBoxChanged:function(){this.gridApi.setQuickFilter(document.getElementById("filter-text-box").value)}}};function L(t){return 1===t.value?'<i class="fas fa-external-link-square-alt"></i>':""}function G(t){var e="";return t.value.forEach((function(t,n){e=e+'<div class="badge badge-primary">'+t.name+"</div>"})),'<div style="display:inline-block;">'+e+"</div>"}var U=V,K=(n("a3c2"),Object(h["a"])(U,z,q,!1,null,"1fb1cc35",null)),H=K.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"padding-right":"15px","margin-left":"15px"}},[a("b-form",{attrs:{id:"persona-detail"},on:{submit:t.onEdit,reset:t.onReset,archive:t.onArchive}},[!1===t.editing&&null!==t.form.id?a("div",{attrs:{id:"persona-detail-show"}},[a("h1",[t._v("Detail")]),a("span",[t._v(" Persona ID: "+t._s(t.form.id)+" | Revision: "+t._s(t.form.revision)+" ")]),a("div",{},[a("div",[1==t.form.avatar?a("div",[a("img",{staticClass:"avatar",attrs:{src:"/api/persona/avatar/"+t.form.id}})]):a("div",[a("img",{staticClass:"avatar",attrs:{src:n("d74c"),alt:"Avatar"}})])]),a("label",{attrs:{for:"Name"}},[t._v("Name")]),a("div",{staticClass:"panel-group"},[t._v(" "+t._s(t.form.name)+" ")]),a("label",{attrs:{for:"Title"}},[t._v("Title")]),a("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.title)+" ")]),a("b-form-group",[a("b-form-radio",{attrs:{disabled:"",name:"some-radios",value:"1"},on:{change:function(e){return t.onInputChanged("external")}},model:{value:t.form.external,callback:function(e){t.$set(t.form,"external",e)},expression:"form.external"}},[t._v("External")]),a("b-form-radio",{attrs:{disabled:"",name:"some-radios",value:"0"},on:{change:function(e){return t.onInputChanged("external")}},model:{value:t.form.external,callback:function(e){t.$set(t.form,"external",e)},expression:"form.external"}},[t._v("Internal")])],1),a("label",{attrs:{for:"qty"}},[t._v("Number people who fit this persona")]),a("p",[t._v(" "+t._s(t.form.market_size)+" ")]),a("label",{attrs:{for:"quote"}},[t._v("Quote")]),a("p",[t._v(" "+t._s(t.form.quote)+" ")]),null!==t.form.job_function?a("div",[a("label",{attrs:{for:"function"}},[t._v("Responsibilities")]),a("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.job_function)+" ")])]):t._e(),null!==t.form.needs?a("div",[a("label",{staticStyle:{"white-space":"pre-line"},attrs:{for:"needs"}},[t._v("Needs")]),a("p",[t._v(" "+t._s(t.form.needs)+" ")])]):t._e(),null!==t.form.wants?a("div",[a("label",{staticStyle:{"white-space":"pre-line"},attrs:{for:"wants"}},[t._v("Goals")]),a("p",[t._v(" "+t._s(t.form.wants)+" ")])]):t._e(),null!==t.form.pain_point?a("div",[a("label",{attrs:{for:"pain_point"}},[t._v("Pain Points")]),a("p",[t._v(" "+t._s(t.form.pain_point)+" ")])]):t._e(),a("label",{attrs:{for:"buss_val"}},[t._v("Market Value")]),a("div",{staticClass:"barcont"},[a("div",{staticClass:"bar buss_val",style:{width:t.form.buss_val/5*100+"%"}},[t._v(t._s(t.form.buss_val))])]),a("br"),a("label",[t._v("Associated Products:")]),a("br"),t._l(t.form.products,(function(e){return a("div",{key:e.id,staticStyle:{display:"inline-block"}},[a("b-button",{attrs:{to:"/product/"+e.id,pill:"",variant:"info",size:"sm"}},[t._v(" "+t._s(e.name)+" ")])],1)})),a("br"),a("label",[t._v("Associated Roles:")]),a("br"),t._l(t.form.roles,(function(e){return a("div",{key:e.id,staticStyle:{display:"inline-block"}},[a("b-badge",{attrs:{pill:"",variant:"success"}},[t._v(t._s(e.name))])],1)})),a("br"),a("b-form-group",{attrs:{label:"Persona Maturity"}},[a("b-form-radio-group",{attrs:{disabled:"",id:"radio-group-1",options:t.persona_maturity_options,name:"radio-options"},model:{value:t.form.persona_maturity,callback:function(e){t.$set(t.form,"persona_maturity",e)},expression:"form.persona_maturity"}})],1),a("br"),a("label",[t._v("Files:")]),t._l(t.uploadedFiles,(function(e){return a("div",{key:e.id},[t._v(" "+t._s(e.filename)+" "),a("b-button",{attrs:{variant:"outline-primary",type:"button",href:"/api/persona/files/"+t.form.id+"?file_id="+e.id,download:""}},[a("i",{staticClass:"fa fa-file"})])],1)})),a("hr")],2),a("b-button",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.editing=!0}}},[t._v("Edit")])],1):a("div",{attrs:{id:"persona-detail-edit"}},[null===t.form.id?a("h1",[t._v("Add")]):a("h1",[t._v("Edit")]),a("picture-input",{ref:"pictureInput",attrs:{width:"100",height:"100",margin:"16",accept:"image/jpeg,image/png",size:"10",radius:"50","button-class":"btn","custom-strings":{upload:"<h1>Bummer!</h1>",drag:"Drag in a photo or click to change"}},on:{change:t.onChange}}),a("div",[a("label",{attrs:{for:"Name"}},[t._v("Name")]),a("b-form-input",{attrs:{name:"Name"},on:{change:function(e){return t.onInputChanged("name")}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),a("label",{attrs:{for:"Title"}},[t._v("Title")]),a("b-form-input",{attrs:{id:"Title",name:"Title"},on:{change:function(e){return t.onInputChanged("title")}},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),a("div",{},[a("label",{attrs:{for:"external"}},[t._v("Internal or External?")]),a("b-form-radio",{attrs:{name:"some-radios",value:"1"},on:{change:function(e){return t.onInputChanged("external")}},model:{value:t.form.external,callback:function(e){t.$set(t.form,"external",e)},expression:"form.external"}},[t._v("External")]),a("b-form-radio",{attrs:{name:"some-radios",value:"0"},on:{change:function(e){return t.onInputChanged("external")}},model:{value:t.form.external,callback:function(e){t.$set(t.form,"external",e)},expression:"form.external"}},[t._v("Internal")])],1),a("label",{attrs:{for:"qty"}},[t._v("Number people who fit this persona")]),a("b-form-input",{attrs:{type:"number",id:"qty",name:"qty"},on:{change:function(e){return t.onInputChanged("market_size")}},model:{value:t.form.market_size,callback:function(e){t.$set(t.form,"market_size",e)},expression:"form.market_size"}}),a("label",{attrs:{for:"quote"}},[t._v("Quote")]),a("b-form-textarea",{attrs:{id:"quote",name:"quote",placeholder:"Optional"},on:{change:function(e){return t.onInputChanged("quote")}},model:{value:t.form.quote,callback:function(e){t.$set(t.form,"quote",e)},expression:"form.quote"}}),a("label",{attrs:{for:"function"}},[t._v("Responsibilities")]),a("b-form-textarea",{attrs:{id:"function",name:"function",placeholder:"Optional"},on:{change:function(e){return t.onInputChanged("job_function")}},model:{value:t.form.job_function,callback:function(e){t.$set(t.form,"job_function",e)},expression:"form.job_function"}}),a("label",{attrs:{for:"needs"}},[t._v("Needs")]),a("b-form-textarea",{attrs:{id:"needs",name:"needs",placeholder:"Optional"},on:{change:function(e){return t.onInputChanged("needs")}},model:{value:t.form.needs,callback:function(e){t.$set(t.form,"needs",e)},expression:"form.needs"}}),a("label",{attrs:{for:"wants"}},[t._v("Goals")]),a("b-form-textarea",{attrs:{id:"wants",name:"wants",placeholder:"Optional"},on:{change:function(e){return t.onInputChanged("wants")}},model:{value:t.form.wants,callback:function(e){t.$set(t.form,"wants",e)},expression:"form.wants"}}),a("label",{attrs:{for:"pain-point"}},[t._v("Pain Points")]),a("b-form-textarea",{attrs:{id:"pain_point",name:"pain_point",placeholder:"Optional"},on:{change:function(e){return t.onInputChanged("pain_points")}},model:{value:t.form.pain_point,callback:function(e){t.$set(t.form,"pain_point",e)},expression:"form.pain_point"}}),a("label",{attrs:{for:"buss-val"}},[t._v("value to business")]),a("b-form-input",{attrs:{type:"range",min:"0",max:"5"},on:{change:function(e){return t.onInputChanged("buss_val")}},model:{value:t.form.buss_val,callback:function(e){t.$set(t.form,"buss_val",e)},expression:"form.buss_val"}}),a("div",{staticClass:"mt-2"},[t._v("Value: "+t._s(t.form.buss_val))]),a("br"),a("b-form-group",{attrs:{label:"Persona Maturity"}},[a("b-form-radio-group",{attrs:{id:"radio-group-1",options:t.persona_maturity_options,name:"radio-options"},on:{change:function(e){return t.onInputChanged("persona_maturity")}},model:{value:t.form.persona_maturity,callback:function(e){t.$set(t.form,"persona_maturity",e)},expression:"form.persona_maturity"}})],1),a("br"),a("label",{attrs:{for:"product-select"}},[t._v("Add Product: ")]),a("br"),a("multiselect",{attrs:{options:t.product_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"id","preselect-first":!1},on:{input:function(e){return t.onInputChanged("products")}},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.values,r=(e.search,e.isOpen);return[n.length&&!r?a("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(n.length)+" options selected ")]):t._e()]}}]),model:{value:t.form.products,callback:function(e){t.$set(t.form,"products",e)},expression:"form.products"}}),a("br"),a("label",{attrs:{for:"product-select"}},[t._v("Choose Persona Roles: ")]),a("br"),a("multiselect",{attrs:{options:t.role_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"id","preselect-first":!1},on:{input:function(e){return t.onInputChanged("roles")}},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.values,r=(e.search,e.isOpen);return[n.length&&!r?a("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(n.length)+" options selected ")]):t._e()]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}}),a("br")],1),a("br"),null!=t.form.id?a("div",{staticClass:"wrapper"},[a("label",[t._v("Files")]),a("b-form-file",{ref:"file",attrs:{type:"file",id:"file",state:Boolean(t.file),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),a("b-button",{attrs:{variant:"info",href:"javascript:void(0)"},on:{click:function(e){return t.submitFiles()}}},[t._v("Upload")]),a("br"),t._l(t.uploadedFiles,(function(e){return a("div",{key:e.id},[t._v(" "+t._s(e.filename)+" "),a("b-button",{attrs:{variant:"outline-primary",type:"button",href:"/api/persona/files/"+t.form.id+"?file_id="+e.id,download:""}},[a("i",{staticClass:"fa fa-file"})]),a("b-button",{attrs:{variant:"outline-primary",type:"button",href:"javascript:void(0)"},on:{click:function(n){return t.deleteFile(e.id)}}},[t._v("× ")])],1)}))],2):t._e(),a("hr"),null!=t.form.id?a("div",{attrs:{id:"button-if"}},[a("b-button",{attrs:{type:"reset",variant:"secondary"}},[t._v("Return")]),a("b-button",{attrs:{href:"javascript:void(0)",type:"button",variant:"danger"},on:{click:t.onArchive}},[t._v(" Archive")]),a("b-button",{attrs:{href:"javascript:void(0)",type:"submit",variant:"primary"},on:{click:t.onEdit}},[t._v("Submit Changes")])],1):a("div",{},[a("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onAdd}},[t._v("Add New Persona")])],1)],1),a("br"),a("playlist-add",{key:t.form.id,staticClass:"right",style:{right:"30px",position:"absolute"},attrs:{source:"persona",source_id:t.form.id}}),a("h4",[t._v("Comments")]),null!=t.form.id?a("comment-view",{key:t.form.id,attrs:{sourceTable:t.source,itemId:t.form.id}}):t._e()],1)],1)},Q=[],W=(n("a4d3"),n("e01a"),n("d28b"),n("c975"),n("3ca3"),n("ddb0"),n("2fa7")),Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{key:t.commentKey,staticClass:"container"},[null!==t.comments?n("div",{staticClass:"wrapper"},t._l(t.comments,(function(e){return n("div",{key:e.id},[null===e.action?n("div",{},[n("span",[t._v(" "+t._s(e.user.username)+" commented "+t._s(t._f("formatDate")(e.create_date))+" ")]),n("br"),n("p",{staticClass:"well"},[t._v(" "+t._s(e.comment_body)+" ")])]):n("div",{},[n("i",{staticClass:"fa fa-edit"}),n("span",[t._v(" "+t._s(e.user.username)+" "+t._s(e.action)+" "+t._s(t._f("formatDate")(e.create_date))+" ")])])])})),0):t._e(),n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-add-comment",expression:"'collapse-add-comment'"}],attrs:{variant:"success"}},[t._v("Add Comment")]),n("b-collapse",{attrs:{id:"collapse-add-comment"}},[n("b-form-textarea",{model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}}),n("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.addComment()}}},[t._v("Submit")])],1)],1)},X=[],Z={data:function(){return{commentKey:0,comments:{},form:{comment:""}}},props:["sourceTable","itemId"],beforeMount:function(){var t=this,e="/api/"+this.sourceTable+"/comments/"+this.itemId;u.a.get(e).then((function(e){t.comments=e.data})).catch((function(t){return console.log(t)}))},mounted:function(){var t=this;d.$on("comments-added",(function(){var e="/api/"+t.sourceTable+"/comments/"+t.itemId;u.a.get(e).then((function(e){t.comments=e.data})).catch((function(t){return console.log(t)}))}))},methods:{formatDate:function(t){if(t)return moment(String(t)).format("MM/DD/YYYY")},addComment:function(){var t,e,n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=null,e={source_id:this.itemId,source_table:this.sourceTable,comment_body:this.form.comment,action:t,downchange:t,upchange:t},n="/api/"+this.sourceTable+"/comments/"+this.itemId,a.next=5,regeneratorRuntime.awrap(u()({method:"post",url:n,data:e}));case 5:a.sent,d.$emit("comments-added",e);case 7:case"end":return a.stop()}}),null,this)}}},tt=Z,et=Object(h["a"])(tt,Y,X,!1,null,null,null),nt=et.exports,at=n("e597"),rt={name:"persona-details",components:{"comment-view":nt,PictureInput:at["a"]},data:function(){return{form:{id:null,name:null,title:null,external:null,market_size:null,quote:null,job_function:null,needs:null,wants:null,pain_point:null,buss_val:null,revision:null,products:[],roles:[],persona_maturity:null,persona_picture:null,avatar:"../../../public/assets/img_avatar2.png"},uploadedFiles:[],file:null,editing:!1,source:"persona",product_options:[],role_options:[],edited_fields:[],persona_maturity_options:["proto","secondary","validated"]}},beforeMount:function(){var t=this;u.a.get("/api/persona/roles").then((function(e){t.role_options=e.data})).catch((function(t){return console.log(t)})),u.a.get("/api/products").then((function(e){t.product_options=e.data})).catch((function(t){return console.log(t)})),d.$on("persona-selection-changed",(function(e){var n="/api/persona/";n+=e,u.a.get(n).then((function(n){t.form.id=e,t.form.name=n.data[0].name,t.form.title=n.data[0].title,t.form.external=n.data[0].external,t.form.market_size=n.data[0].market_size,t.form.quote=n.data[0].quote,t.form.job_function=n.data[0].job_function,t.form.needs=n.data[0].needs,t.form.wants=n.data[0].wants,t.form.pain_point=n.data[0].pain_point,t.form.buss_val=n.data[0].buss_val,t.form.revision=n.data[0].revision,t.form.products=n.data[0].products,t.form.roles=n.data[0].roles,t.form.avatar=n.data[0].avatar,t.form.persona_maturity=n.data[0].persona_maturity,t.editing=!1,t.edited_fields.length=0})).catch((function(t){return console.log(t)})),u()({method:"get",url:"/api/persona/files/"+e}).then((function(e){t.uploadedFiles=e.data}))}))},methods:{onInputChanged:function(t){-1===this.edited_fields.indexOf(t)?this.edited_fields.push(t):console.log(this.edited_fields)},onEdit:function(){var t,e,n,a,r,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:e=!0,n=!1,a=void 0,s.prev=3,r=this.edited_fields[Symbol.iterator]();case 5:if(e=(i=r.next()).done){s.next=12;break}return t=i.value,s.next=9,regeneratorRuntime.awrap(u()({method:"put",url:"/api/persona/"+this.form.id,data:Object(W["a"])({},t,this.form[t])}));case 9:e=!0,s.next=5;break;case 12:s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](3),n=!0,a=s.t0;case 18:s.prev=18,s.prev=19,e||null==r.return||r.return();case 21:if(s.prev=21,!n){s.next=24;break}throw a;case 24:return s.finish(21);case 25:return s.finish(18);case 26:d.$emit("persona-changed","item-updated"),document.getElementById("right-sidepanel").style.width="0px",this.$store.commit({type:"alert",show:2,variant:"success",content:"persona updated"});case 30:case"end":return s.stop()}}),null,this,[[3,14,18,26],[19,,21,25]])},onAdd:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(u()({method:"post",url:"/api/persona",data:this.form}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})));case 2:d.$emit("persona-changed","item-added"),document.getElementById("right-sidepanel").style.width="0px",this.$store.commit({type:"alert",show:2,variant:"success",content:"persona created"});case 5:case"end":return t.stop()}}),null,this)},onReset:function(){this.editing=!1},onArchive:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return t="/api/persona/",t+=this.form.id,console.log(t),e.next=5,regeneratorRuntime.awrap(u()({method:"PUT",url:t,data:{archived:!0}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})));case 5:console.log("delete"),d.$emit("persona-changed","archived"),document.getElementById("right-sidepanel").style.width="0px",this.$store.commit({type:"alert",show:3,variant:"warning",content:"persona archived, NOTE: data is not deleted, if this was done unintentially please reach out to the admin"});case 9:case"end":return e.stop()}}),null,this)},submitFiles:function(){var t=new FormData;n("cc1d");t.append("file",this.file),t.append("filename","blank"),u()({method:"post",url:"/api/persona/files/"+this.form.id,data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){})).catch((function(t){}))},deleteFile:function(t){u()({method:"delete",url:"/api/persona/files/"+this.form.id+"?file_id="+t})},onChange:function(t){if(console.log("New picture selected!"),t){console.log("Picture loaded."),this.form.avatar=this.$refs.pictureInput.file;var e=new FormData;e.append("file",this.$refs.pictureInput.file),u()({method:"PUT",url:"/api/persona/avatar/"+this.form.id,data:e,headers:{"Content-Type":"multipart/form-data"}})}else console.log("FileReader API not supported: use the <form>, Luke!")},avatarNotFound:function(t){this.form.avatar=null}}},it=rt,st=(n("60bc"),n("7c66"),Object(h["a"])(it,J,Q,!1,null,"e3e9a6a6",null)),ot=st.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"0px"}},[a("div",{staticClass:"row "},[a("div",{staticClass:"md-form mt-0 col-8",attrs:{id:"card-search"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search for user persona","aria-label":"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("h4",[t._v("Filter:")]),a("b-button-group",{staticClass:"mx-1"},[a("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.toggleSearch('"external":0')}}},[t._v("Internal")]),a("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.toggleSearch('"external":1')}}},[t._v("External")])],1)],1),a("br"),a("b-card-group",{attrs:{columns:""}},t._l(t.SearchItems(t.cards),(function(e){return a("b-card",{key:e.id,staticClass:"card"},[a("div",[a("div",[1==e.avatar?a("div",[a("img",{staticClass:"avatar",attrs:{src:"/api/persona/avatar/"+e.id}})]):a("div",[a("img",{staticClass:"avatar",attrs:{src:n("d74c"),alt:"Avatar"}})])])]),a("b-card-text",[a("span",[t._v(" "+t._s(e.name)+" the "+t._s(e.title)+" ")]),a("p",{staticClass:"well"},[t._v(" "+t._s(e.quote)+" ")]),a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+e.id,expression:"'collapse-'+card.id"}],attrs:{variant:"outline-secondary"}},[t._v("More Detail")]),a("b-button",{attrs:{href:"javascript:void(0)",variant:"outline-secondary"},on:{click:function(n){return t.OpenDetail(e.id)}}},[t._v("Open Persona")]),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-"+e.id}},[a("label",{attrs:{for:"function"}},[t._v("Job Function")]),a("p",{staticClass:"text-wrap"},[t._v(" "+t._s(e.job_function)+" ")]),a("label",{staticStyle:{"white-space":"pre-line"},attrs:{for:"needs"}},[t._v("Needs")]),a("p",[t._v(" "+t._s(e.needs)+" ")]),a("label",{staticStyle:{"white-space":"pre-line"},attrs:{for:"wants"}},[t._v("Wants")]),a("p",[t._v(" "+t._s(e.wants)+" ")]),a("label",{attrs:{for:"pain_point"}},[t._v("Pain Points")]),a("p",[t._v(" "+t._s(e.pain_point)+" ")])])],1)],1)})),1)],1)},ct=[],ut=(n("4d63"),n("466d"),n("841c"),{data:function(){return{cards:[],search:"",filter:""}},beforeMount:function(){var t=this,e="/api/persona";u.a.get(e).then((function(e){t.cards=e.data})).catch((function(t){return console.log(t)}))},methods:{OpenDetail:function(t){d.$emit("persona-selection-changed",this.selectedRow=t),this.$router.push("/persona/"+t)},toggleSearch:function(t){this.search!=t?this.search=t:this.search=""},SearchItems:function(t){var e=this;return t.filter((function(t){var n=new RegExp("("+e.search+")","i");return JSON.stringify(t).match(n)}))}}}),dt=ut,pt=(n("e40b"),Object(h["a"])(dt,lt,ct,!1,null,"2d710343",null)),ft=pt.exports,mt={name:"persona-panel",components:{"persona-data":H,"persona-detail":ot,"persona-card":ft},data:function(){return{detailKey:0,dataKey:0,view:"card",selection:null}},watch:{$route:function(t,e){document.getElementById("right-sidepanel").style.width="80%",d.$emit("persona-selection-changed",this.selectedRow=this.$route.params.id)}},methods:{expandDetail:function(){document.getElementById("right-sidepanel").style.width="80%"},closeDetail:function(){document.getElementById("right-sidepanel").style.width="0px"},closeNav:function(){document.getElementById("left-sidepanel").style="left: -115px"},addDataAction:function(){this.detailKey+=1,d.$emit("persona-selection-changed",this.selectedRow=null)},changeView:function(t){this.view=t}},mounted:function(){var t=this;d.$on("persona-selection-changed",(function(e){document.getElementById("right-sidepanel").style.width="50%",t.selection=e})),this.$route.params.id&&d.$emit("persona-selection-changed",this.selectedRow=this.$route.params.id)}};var ht=mt,vt=(n("9f7d"),Object(h["a"])(ht,F,N,!1,null,"1bbe1a70",null)),bt=vt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("b-nav",{staticClass:"sidepanel-left",attrs:{id:"left-sidepanel",vertical:""}},[n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Cards"},on:{click:function(e){return t.changeView("card")}}},[n("i",{staticClass:"fa fa-laptop nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Cards")])]),n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Table"},on:{click:function(e){return t.changeView("table")}}},[n("i",{staticClass:"fa fa-list nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Table")])]),null!==this.selection?n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Detail"},on:{click:function(e){return t.expandDetail()}}},[n("i",{staticClass:"fas fa-align-left nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Details")])]):n("b-nav-item",{staticClass:"nav-link disabled",attrs:{href:"javascript:void(0)",id:"Detail"},on:{click:function(e){return t.expandDetail()}}},[n("i",{staticClass:"fa fa-align-left nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Details")])]),n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Add","data-toggle":"tooltip",title:"Add"},on:{click:function(e){t.addDataAction(),t.expandDetail()}}},[n("i",{staticClass:"fa fa-plus nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Add New")])])],1),n("div",{staticClass:"main",attrs:{id:"main"}},["table"===t.view?n("div",{key:t.view,attrs:{id:"product-panel"}},[n("product-data",{key:t.dataKey})],1):t._e(),"card"===t.view?n("div",{key:t.view},[n("product-card",{key:t.dataKey})],1):t._e()]),n("div",{staticClass:"sidepanel-right",attrs:{id:"right-sidepanel"}},[n("h1",[n("a",{staticClass:"closebtn",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.closeDetail()}}},[t._v("×")])]),n("div",{attrs:{id:"side-panel-switcher"}},[n("product-detail",{key:t.detailKey})],1)])],1)},_t=[],yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"test-header row",staticStyle:{margin:"15px"}},[n("div",{staticClass:"col-2"},[t._v(" Selection: "),n("span",{attrs:{id:"selectedRows"}}),n("span",{attrs:{selectedRow:t.selectedRow}})]),n("div",{staticClass:"col-2"},[n("span",[t._v(" Search: ")]),n("input",{attrs:{type:"text",id:"filter-text-box",placeholder:"Filter..."},on:{input:function(e){return t.onFilterTextBoxChanged()}}})])]),n("ag-grid-vue",{staticClass:"ag-theme-material",staticStyle:{width:"100vl",height:"83vh"},attrs:{columnDefs:t.columnDefs,rowData:t.rowData,modules:t.modules,rowSelection:"single"},on:{"grid-ready":t.onGridReady,"selection-changed":t.onSelectionChanged}})],1)},wt=[],xt={name:"ProductTable",data:function(){return{columnDefs:null,rowData:null,rowSelection:null,gridApi:null,gridOptions:null,modules:M["a"],selectedRow:null,defaultColDef:null}},components:{AgGridVue:B["AgGridVue"]},methods:{onGridReady:function(t){this.gridApi=t.api,this.columnApi=t.columnApi},onSelectionChanged:function(){var t=this.gridApi.getSelectedRows(),e="",n="";t.forEach((function(t,a){0!==a&&(e+=", "),e+=t.name,n=t.id})),document.querySelector("#selectedRows").innerHTML=e,d.$emit("product-selection-changed",this.selectedRow=n),this.$router.push("/product/"+n)},onFilterTextBoxChanged:function(){this.gridApi.setQuickFilter(document.getElementById("filter-text-box").value)}},beforeMount:function(){var t=this;this.columnDefs=[{headerName:"Name",field:"name",width:200},{headerName:"Description",field:"description",filter:"agTextColumnFilter",width:500},{headerName:"Goals",field:"goals",filter:"agTextColumnFilter",width:200},{headerName:"Features",field:"features",filter:"agTextColumnFilter",width:200},{headerName:"Owner",field:"owner",filter:!0,width:100}],this.defaultColDef={sortable:!0,resizable:!0,filter:!0,getQuickFilterText:function(t){return t.value.name}},this.gridOptions={},this.rowSelection="single",this.gridOptions.rowHeight=100,fetch("/api/product").then((function(t){return t.json()})).then((function(e){return t.rowData=e}))},mounted:function(){var t=this;d.$on("product-changed",(function(e){fetch("/api/product").then((function(t){return t.json()})).then((function(e){return t.rowData=e}))}))}},Ct=xt,kt=Object(h["a"])(Ct,yt,wt,!1,null,null,null),jt=kt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding-right":"15px","margin-left":"15px"}},[n("b-form",{attrs:{id:"product-detail"},on:{submit:function(e){return e.preventDefault(),t.onEdit(e)},reset:t.onReset,archive:t.onArchive}},[!1===t.editing&&null!==t.form.id?n("div",{attrs:{id:"product-detail-show"}},[n("h1",[t._v("Detail")]),n("span",[t._v(" Product ID: "+t._s(t.form.id)+" | Revision: "+t._s(t.form.revision)+" ")]),n("div",[n("label",[t._v("Name")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.name)+" ")]),n("label",[t._v("Description")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.description)+" ")]),null!==t.form.metrics?n("div",[n("label",[t._v("Metrics")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.metrics)+" ")])]):t._e(),null!==t.form.features?n("div",[n("label",[t._v("Product Features")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.features)+" ")])]):t._e(),null!==t.form.goals?n("div",[n("label",[t._v("Goals")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.goals)+" ")])]):t._e(),n("label",{attrs:{for:"function"}},[t._v("Owner")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.owner)+" ")]),n("label",[t._v("Product Homepage")]),n("p",[t._v(" "+t._s(t.form.product_homepage)+" ")]),n("br"),n("b-form-group",{attrs:{label:"Product Life stage"}},[n("b-form-radio-group",{attrs:{disabled:"",id:"radio-group-1",options:t.product_life_options,name:"radio-options"},model:{value:t.form.product_life,callback:function(e){t.$set(t.form,"product_life",e)},expression:"form.product_life"}})],1),n("label",[t._v("Personas: ")]),n("br"),t._l(t.form.personas,(function(e){return n("div",{key:e.id,staticStyle:{display:"inline-block"}},[n("b-button",{attrs:{to:"/persona/"+e.id,pill:"",variant:"info",size:"sm"}},[t._v(" "+t._s(e.title)+" ")])],1)}))],2),n("label",[t._v("Files:")]),t._l(t.uploadedFiles,(function(e){return n("div",{key:e.id},[t._v(" "+t._s(e.filename)+" "),n("b-button",{attrs:{type:"button",name:"button",target:"_blank",href:"/api/product/files/"+t.form.id+"?file_id="+e.id,download:""}},[n("i",{staticClass:"fa fa-file"})])],1)})),n("hr"),n("b-button",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.editing=!0}}},[t._v("Edit")])],2):n("div",{attrs:{id:"product-detail-edit"}},[null!==t.form.id?n("h1",[t._v("Edit")]):n("h1",[t._v("Add")]),n("div",[n("label",[t._v("Name")]),n("b-form-input",{on:{change:function(e){return t.onInputChanged("name")}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),n("label",[t._v("Description")]),n("b-form-textarea",{on:{change:function(e){return t.onInputChanged("description")}},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),n("label",[t._v("Metrics")]),n("b-form-textarea",{on:{change:function(e){return t.onInputChanged("metrics")}},model:{value:t.form.metrics,callback:function(e){t.$set(t.form,"metrics",e)},expression:"form.metrics"}}),n("label",[t._v("Product Features")]),n("b-form-textarea",{on:{change:function(e){return t.onInputChanged("features")}},model:{value:t.form.features,callback:function(e){t.$set(t.form,"features",e)},expression:"form.features"}}),n("label",[t._v("Goals")]),n("b-form-input",{on:{change:function(e){return t.onInputChanged("goals")}},model:{value:t.form.goals,callback:function(e){t.$set(t.form,"goals",e)},expression:"form.goals"}}),n("label",{attrs:{for:"function"}},[t._v("Owner")]),n("b-form-input",{on:{change:function(e){return t.onInputChanged("owner")}},model:{value:t.form.owner,callback:function(e){t.$set(t.form,"owner",e)},expression:"form.owner"}}),n("label",[t._v("Product Homepage")]),n("b-form-input",{on:{change:function(e){return t.onInputChanged("product_homepage")}},model:{value:t.form.product_homepage,callback:function(e){t.$set(t.form,"product_homepage",e)},expression:"form.product_homepage"}}),n("br"),n("label",[t._v("Product Life Stage")]),n("b-form-group",{attrs:{label:"Life stage"}},[n("b-form-radio-group",{attrs:{id:"radio-group-1",options:t.product_life_options,name:"radio-options"},on:{change:function(e){return t.onInputChanged("product_life")}},model:{value:t.form.product_life,callback:function(e){t.$set(t.form,"product_life",e)},expression:"form.product_life"}})],1),n("label",[t._v("Choose Personas")]),n("multiselect",{attrs:{options:t.persona_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"title","track-by":"id","preselect-first":!1},on:{change:function(e){return t.onInputChanged("personas")}},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.values,r=(e.search,e.isOpen);return[a.length&&!r?n("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(a.length)+" options selected ")]):t._e()]}}]),model:{value:t.form.personas,callback:function(e){t.$set(t.form,"personas",e)},expression:"form.personas"}}),n("br"),n("div",[t._v("Selected: "),n("strong",[t._v(t._s(t.form.personas.title))])])],1),n("br"),null!=t.form.id?n("div",{staticClass:"wrapper"},[n("label",[t._v("Files")]),n("b-form-file",{ref:"file",attrs:{type:"file",id:"file",state:Boolean(t.file),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),n("b-button",{attrs:{variant:"info",id:"file-upload",href:"javascript:void(0)"},on:{click:function(e){return t.submitFiles()}}},[t._v("Upload")]),n("br"),t._l(t.uploadedFiles,(function(e){return n("div",{key:e.id},[t._v(" "+t._s(e.filename)+" "),n("b-button",{attrs:{variant:"outline-primary",type:"button",href:"/api/product/files/"+t.form.id+"?file_id="+e.id,download:""}},[n("i",{staticClass:"fa fa-file"})]),n("b-button",{attrs:{variant:"outline-primary",type:"button",href:"javascript:void(0)"},on:{click:function(n){return t.deleteFile(e.id)}}},[t._v("× ")])],1)}))],2):t._e(),n("br"),null!=t.form.id?n("div",{attrs:{id:"button-if"}},[n("b-button",{attrs:{type:"reset",variant:"secondary"}},[t._v("Return")]),n("b-button",{attrs:{href:"javascript:void(0)",type:"button",variant:"danger"},on:{click:t.onArchive}},[t._v(" Archive")]),n("b-button",{attrs:{href:"javascript:void(0)",type:"submit",variant:"primary"},on:{click:t.onEdit}},[t._v("Submit Changes")])],1):n("div",[n("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:t.onAdd}},[t._v(" Add New Product")])],1)])]),n("hr"),n("playlist-add",{key:t.form.id,staticClass:"right",style:{right:"30px",position:"absolute"},attrs:{id:"tooltip-target-1",source:"product",source_id:t.form.id}}),n("h4",[t._v("Comments")]),null!=t.form.id?n("comment-view",{key:t.form.id,attrs:{sourceTable:t.source,itemId:t.form.id}}):t._e()],1)},Dt=[],It={name:"product-details",components:{"comment-view":nt},data:function(){return{form:{id:null,name:null,description:null,metrics:null,features:null,goals:null,owner:"",product_homepage:"",personas:[],products:[],product_photo:"",product_life:null,product_file:null},uploadedFiles:[],file:null,errors:{},editing:!1,source:"product",persona_options:[],edited_fields:[],product_life_options:["POC","MVP","G2M","Maturing","Declining"]}},beforeMount:function(){var t=this;u.a.get("/api/personas").then((function(e){t.persona_options=e.data})).catch((function(t){return console.log(t)})),d.$on("product-selection-changed",(function(e){var n="/api/product/";n+=e,u.a.get(n).then((function(n){t.form.id=e,t.form.name=n.data[0].name,t.form.description=n.data[0].description,t.form.metrics=n.data[0].metrics,t.form.goals=n.data[0].goals,t.form.features=n.data[0].features,t.form.owner=n.data[0].owner,t.form.product_homepage=n.data[0].product_homepage,t.form.product_life=n.data[0].product_life,t.form.revision=n.data[0].revision,t.form.personas=n.data[0].personas,t.editing=!1,t.edited_fields.length=0})).catch((function(t){return console.log(t)})),u()({method:"get",url:"/api/product/files/"+e}).then((function(e){t.uploadedFiles=e.data}))}))},methods:{onInputChanged:function(t){-1===this.edited_fields.indexOf(t)?this.edited_fields.push(t):console.log(this.edited_fields)},onEdit:function(){var t,e,n,a,r,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:e=!0,n=!1,a=void 0,s.prev=3,r=this.edited_fields[Symbol.iterator]();case 5:if(e=(i=r.next()).done){s.next=12;break}return t=i.value,s.next=9,regeneratorRuntime.awrap(u()({method:"put",url:"/api/product/"+this.form.id,data:Object(W["a"])({},t,this.form[t])}));case 9:e=!0,s.next=5;break;case 12:s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](3),n=!0,a=s.t0;case 18:s.prev=18,s.prev=19,e||null==r.return||r.return();case 21:if(s.prev=21,!n){s.next=24;break}throw a;case 24:return s.finish(21);case 25:return s.finish(18);case 26:d.$emit("product-changed","item-updated"),document.getElementById("right-sidepanel").style.width="0px",this.$store.commit({type:"alert",show:2,variant:"success",content:"product updated"});case 30:case"end":return s.stop()}}),null,this,[[3,14,18,26],[19,,21,25]])},onAdd:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,regeneratorRuntime.awrap(u()({method:"post",url:"/api/product",data:this.form}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})));case 3:d.$emit("product-changed","item-updated"),document.getElementById("right-sidepanel").style.width="0px",this.$store.commit({type:"alert",show:2,variant:"success",content:"product created!"});case 6:case"end":return e.stop()}}),null,this)},onReset:function(t){t.preventDefault(),this.editing=!1},onArchive:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,regeneratorRuntime.awrap(u()({method:"put",url:"/api/product/"+this.form.id}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})));case 3:d.$emit("product-changed","archived"),document.getElementById("right-sidepanel").style.width="0px",this.$store.commit({type:"alert",show:3,variant:"warning",content:"product archived, NOTE: data is not deleted, if this was done unintentially please reach out to the admin"});case 6:case"end":return e.stop()}}),null,this)},submitFiles:function(){var t=new FormData;document.getElementById("file-upload").innerHTML='<b-spinner label="Loading..."></b-spinner>',t.append("file",this.file),t.append("filename","blank"),u()({method:"post",url:"/api/product/files/"+this.form.id,data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){document.getElementById("file-upload").innerHTML='<i class="fa fa-check"></i>',console.log("file uploaded")})).catch((function(t){document.getElementById("file-upload").innerHTML='<i class="fa fa-times nav-icon"></i>',console.log("upload error")}))},deleteFile:function(t){u()({method:"delete",url:"/api/product/files/"+this.form.id+"?file_id="+t})}}},Rt=It,St=(n("c856"),Object(h["a"])(Rt,$t,Dt,!1,null,"dac6b384",null)),Pt=St.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"md-form mt-0 col-8",attrs:{id:"card-search"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search for product","aria-label":"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),n("h4",[t._v("Filter: ")]),n("b-button-group",{staticClass:"mx-1 col-1.5",attrs:{vertical:""}},[n("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.toggleSearch('"external":0')}}},[t._v("Internal")]),n("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.toggleSearch('"external":1')}}},[t._v("External")])],1)],1),n("br"),n("b-card-group",{attrs:{columns:""}},t._l(t.filterItems(t.cards),(function(e){return n("b-card",{key:e.name,staticClass:"card"},[n("b-card-text",[n("h5",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.name))]),n("p",{staticClass:"well"},[t._v(" "+t._s(e.description)+" ")]),n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+e.id,expression:"'collapse-'+card.id"}],attrs:{variant:"outline-secondary"}},[t._v("More Detail")]),n("b-button",{attrs:{href:"javascript:void(0)",variant:"outline-secondary"},on:{click:function(n){return t.OpenDetail(e.id)}}},[t._v("Open Product")]),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-"+e.id}},[n("label",[t._v("Product Goals")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(e.goals)+" ")]),n("label",[t._v("Features")]),n("p",[t._v(" "+t._s(e.features)+" ")]),n("label",[t._v("Owner")]),n("p",[t._v(" "+t._s(e.owner)+" ")]),n("label",[t._v("Product Home Page")]),n("p",[t._v(" "+t._s(e.product_homepage)+" ")])])],1)],1)})),1)],1)},At=[],Ot={data:function(){return{cards:[],search:""}},beforeMount:function(){var t=this,e="/api/product";u.a.get(e).then((function(e){t.cards=e.data})).catch((function(t){return console.log(t)}))},methods:{OpenDetail:function(t){d.$emit("product-selection-changed",this.selectedRow=t)},toggleSearch:function(t){this.search!=t?this.search=t:this.search=""},filterItems:function(t){var e=this;return t.filter((function(t){var n=new RegExp("("+e.search+")","i");return JSON.stringify(t).match(n)}))}}},Tt=Ot,Ft=(n("aa10"),Object(h["a"])(Tt,Et,At,!1,null,"38710452",null)),Nt=Ft.exports,zt={name:"product-panel",components:{"product-data":jt,"product-detail":Pt,"product-card":Nt},data:function(){return{detailKey:0,dataKey:0,view:"card",selection:null}},watch:{$route:function(t,e){d.$emit("product-selection-changed",this.selectedRow=this.$route.params.id)}},methods:{expandDetail:function(){document.getElementById("right-sidepanel").style.width="80%"},closeDetail:function(){document.getElementById("right-sidepanel").style.width="0px"},closeNav:function(){document.getElementById("right-sidepanel").style.width="0px"},addDataAction:function(){this.detailKey+=1,d.$emit("product-selection-changed",this.selectedRow=null)},changeView:function(t){this.view=t}},mounted:function(){var t=this;d.$on("product-selection-changed",(function(e){document.getElementById("right-sidepanel").style.width="50%",t.selection=e})),this.$route.params.id&&d.$emit("product-selection-changed",this.selectedRow=this.$route.params.id)}},qt=zt,Bt=(n("21c4"),Object(h["a"])(qt,gt,_t,!1,null,"3c5e1bcf",null)),Mt=Bt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("b-nav",{staticClass:"sidepanel-left",attrs:{id:"left-sidepanel",vertical:""}},[n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Cards"},on:{click:function(e){return t.changeView("card")}}},[n("i",{staticClass:"fa fa-exclamation nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Cards")])]),null!==this.selection?n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Detail"},on:{click:function(e){return t.expandDetail()}}},[n("i",{staticClass:"fa fa-align-left nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Details")])]):n("b-nav-item",{staticClass:"nav-link disabled",attrs:{href:"javascript:void(0)",id:"Detail"},on:{click:function(e){return t.expandDetail()}}},[n("i",{staticClass:"fa fa-align-left nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Details")])]),n("b-nav-item",{staticClass:"nav-link active",attrs:{href:"javascript:void(0)",id:"Add","data-toggle":"tooltip",title:"Add"},on:{click:function(e){t.addDataAction(),t.expandDetail()}}},[n("i",{staticClass:"fa fa-plus nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Add New")])]),n("b-nav-item",{staticClass:"nav-link disabled",attrs:{href:"javascript:void(0)",id:"Dashboard"},on:{click:function(e){return t.expandDetail()}}},[n("i",{staticClass:"fas fa-chart-line nav-icon"}),n("span",{staticClass:"nav-text"},[t._v("Data Viz")])])],1),n("div",{staticClass:"main"},[n("insight-card",{key:t.dataKey})],1),n("div",{staticClass:"sidepanel-right",attrs:{id:"right-sidepanel"}},[n("h1",[n("a",{staticClass:"closebtn",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.closeDetail()}}},[t._v("×")])]),n("div",{attrs:{id:"side-panel-switcher"}},[n("insight-detail",{key:t.detailKey})],1)])],1)},Lt=[],Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding-right":"15px","margin-left":"15px"}},[n("b-form",{attrs:{id:"persona-detail"},on:{submit:t.onEdit,reset:t.onReset,archive:t.onArchive}},[!1===t.editing&&null!==t.form.id?n("div",{attrs:{id:"persona-detail-show"}},[n("h1",[t._v("Insight Detail")]),n("div",{},[n("label",[t._v("Title")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.title)+" ")]),n("label",[t._v("description")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.description)+" ")]),n("label",[t._v("Content")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.content)+" ")]),n("label",[t._v("Experience vector")]),n("br"),n("span",{staticClass:"badge badge-pill badge-success",class:t.form.experience_vector},[t._v(" "+t._s(t.form.experience_vector))]),n("br"),n("label",[t._v("Magnitude")]),n("div",{staticClass:"barcont"},[n("div",{staticClass:"bar magnitude",style:{width:t.form.magnitude/5*100+"%"}},[t._v(t._s(t.form.magnitude))])]),n("label",[t._v("Frequency")]),n("div",{staticClass:"barcont"},[n("div",{staticClass:"bar frequency",style:{width:t.form.frequency/5*100+"%"}},[t._v(t._s(t.form.frequency))])]),n("label",[t._v("Emotions")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.emotions)+" ")]),n("label",[t._v("Props")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.props)+" ")]),n("label",[t._v("Journey Location")]),n("p",{staticClass:"text-wrap"},[t._v(" "+t._s(t.form.journey)+" ")]),n("label",[t._v("Associated Personas")]),t._l(t.form.personas,(function(e){return n("div",{key:e.id},[n("b-badge",{attrs:{to:{path:"persona/"+e.id},pill:"",variant:"success"}},[t._v(t._s(e.title)+" ")])],1)})),n("br"),n("label",[t._v("Associated products")]),n("br"),t._l(t.form.products,(function(e){return n("div",{key:e.id,staticStyle:{display:"inline-block"}},[n("b-badge",{attrs:{to:{path:"product/"+e.id},pill:"",variant:"success"}},[t._v(t._s(e.name))])],1)})),n("br"),n("label",[t._v("Files:")]),n("br"),t._l(t.uploadedFiles,(function(e){return n("div",{key:e.id,staticStyle:{display:"inline-block"}},[t._v(" "+t._s(e.filename)+" "),n("b-button",{attrs:{type:"button",name:"button",target:"_blank",href:"/api/insights/files/"+t.form.id+"?file_id="+e.id,download:""}},[n("i",{staticClass:"fa fa-file"})])],1)}))],2),n("br"),n("b-button",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.editing=!0}}},[t._v("Edit")])],1):n("div",{attrs:{id:"persona-detail-edit"}},[null===t.form.id?n("h1",[t._v("Add")]):n("h1",[t._v("Edit")]),n("div",[n("label",[t._v("Title")]),n("b-form-input",{attrs:{id:"Title",name:"Title"},on:{change:function(e){return t.onInputChanged("title")}},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-description",expression:"'collapse-description'"}],staticClass:"m-1",attrs:{variant:"light"}},[n("label",[t._v("description")]),n("i",{staticClass:"fa fa-angle-down nav-icon expand_caret"})]),n("b-collapse",{attrs:{id:"collapse-description"}},[n("b-form-textarea",{attrs:{id:"description",name:"description"},on:{change:function(e){return t.onInputChanged("description")}},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),n("label",[t._v("content")]),n("b-form-textarea",{attrs:{id:"content",name:"content"},on:{change:function(e){return t.onInputChanged("content")}},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),n("label",[t._v("Experience vector")]),n("b-form-select",{attrs:{options:t.experience_options,id:"experience_vector",name:"experience_vector"},on:{change:function(e){return t.onInputChanged("experience_vector")}},model:{value:t.form.experience_vector,callback:function(e){t.$set(t.form,"experience_vector",e)},expression:"form.experience_vector"}}),n("label",[t._v("Magnitude: "+t._s(t.form.magnitude))]),n("b-form-input",{attrs:{type:"range",min:"0",max:"5",id:"magnitude",name:"magnitude"},on:{change:function(e){return t.onInputChanged("magnitude")}},model:{value:t.form.magnitude,callback:function(e){t.$set(t.form,"magnitude",e)},expression:"form.magnitude"}}),n("label",[t._v("Frequency: "+t._s(t.form.frequency))]),n("b-form-input",{attrs:{type:"range",min:"0",max:"5",id:"frequency",name:"frequency"},on:{change:function(e){return t.onInputChanged("frequency")}},model:{value:t.form.frequency,callback:function(e){t.$set(t.form,"frequency",e)},expression:"form.frequency"}}),n("label",[t._v("Emotions")]),n("b-form-select",{attrs:{id:"emotions",options:t.emotion_options,name:"emotions"},on:{change:function(e){return t.onInputChanged("emotions")}},model:{value:t.form.emotions,callback:function(e){t.$set(t.form,"emotions",e)},expression:"form.emotions"}}),n("label",[t._v("Props")]),n("b-form-textarea",{attrs:{id:"props",name:"props"},on:{change:function(e){return t.onInputChanged("props")}},model:{value:t.form.props,callback:function(e){t.$set(t.form,"props",e)},expression:"form.props"}}),n("label",[t._v("Journey Location")]),n("b-form-select",{attrs:{id:"journey",options:t.journey_options,name:"journey"},on:{change:function(e){return t.onInputChanged("journey")}},model:{value:t.form.journey,callback:function(e){t.$set(t.form,"journey",e)},expression:"form.journey"}}),n("br"),n("label",{attrs:{for:"persona-select"}},[t._v("Choose Personas: ")]),n("br"),n("multiselect",{attrs:{options:t.persona_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"title","track-by":"id","preselect-first":!1},on:{input:function(e){return t.onInputChanged("personas")}},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.values,r=(e.search,e.isOpen);return[a.length&&!r?n("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(a.length)+" options selected ")]):t._e()]}}]),model:{value:t.form.personas,callback:function(e){t.$set(t.form,"personas",e)},expression:"form.personas"}}),n("br"),n("label",[t._v("Choose Products")]),n("multiselect",{attrs:{options:t.product_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"id","preselect-first":!1},on:{input:function(e){return t.onInputChanged("products")}},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.values,r=(e.search,e.isOpen);return[a.length&&!r?n("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(a.length)+" options selected ")]):t._e()]}}]),model:{value:t.form.products,callback:function(e){t.$set(t.form,"products",e)},expression:"form.products"}}),n("br")],1),null!=t.form.id?n("div",{staticClass:"wrapper"},[n("label",[t._v("Files")]),n("b-form-file",{ref:"file",attrs:{type:"file",id:"file",state:Boolean(t.file),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),n("b-button",{attrs:{variant:"info",href:"javascript:void(0)"},on:{click:function(e){return t.submitFiles()}}},[t._v("Upload")]),n("br"),t._l(t.uploadedFiles,(function(e){return n("div",{key:e.id},[t._v(" "+t._s(e.filename)+" "),n("b-button",{attrs:{variant:"outline-primary",type:"button",href:"/api/insight/files/"+t.form.id+"?file_id="+e.id,download:""}},[n("i",{staticClass:"fa fa-file"})]),n("b-button",{attrs:{variant:"outline-primary",type:"button",href:"javascript:void(0)"},on:{click:function(n){return t.deleteFile(e.id)}}},[t._v("× ")])],1)}))],2):t._e(),n("hr"),null!=t.form.id?n("div",{attrs:{id:"button-if"}},[n("b-button",{attrs:{type:"reset",variant:"secondary"}},[t._v("Return")]),n("b-button",{attrs:{href:"javascript:void(0)",type:"button",variant:"danger"},on:{click:t.onArchive}},[t._v(" Archive")]),n("b-button",{attrs:{href:"javascript:void(0)",type:"submit",variant:"primary"},on:{click:t.onEdit}},[t._v("Submit Changes")])],1):n("div",{},[n("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onAdd}},[t._v("Add New Insight")])],1)])]),n("hr"),n("playlist-add",{key:t.form.id,staticClass:"right",style:{right:"30px",position:"absolute"},attrs:{source:"insight",source_id:t.form.id}}),n("h4",[t._v("Comments")]),null!=t.form.id?n("comment-view",{key:t.form.id,attrs:{sourceTable:t.source,itemId:t.form.id}}):t._e()],1)},Ut=[],Kt=(n("2b3d"),{name:"insight-details",components:{"comment-view":nt},data:function(){return{form:{id:null,title:"",description:"",content:"",file:null,experience_vector:"Neutral",magnitude:null,frequency:null,emotions:null,props:"",journey:"",creator_id:null,revision:null,products:[],personas:[]},file:null,uploadedFiles:[],editing:!1,source:"insights",experience_options:["Positive","Neutral","Negative"],emotion_options:["Pain","Joyful","Triumphiant","Angry","Calm","Frustrated","Surprised","Excited","Confused"],journey_options:["Aware","Try","Use","Leave"],product_options:[],persona_options:[],edited_fields:[]}},beforeMount:function(){var t=this;u.a.get("/api/products").then((function(e){t.product_options=e.data})),u.a.get("/api/personas").then((function(e){t.persona_options=e.data})),d.$on("insight-selection-changed",(function(e){var n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(null!==e){a.next=2;break}return a.abrupt("return");case 2:return n="/api/insights/",n+=e,a.next=6,regeneratorRuntime.awrap(u.a.get(n).then((function(n){t.form.id=e,t.form.title=n.data[0].title,t.form.description=n.data[0].description,t.form.content=n.data[0].content,t.form.experience_vector=n.data[0].experience_vector,t.form.magnitude=n.data[0].magnitude,t.form.frequency=n.data[0].frequency,t.form.emotions=n.data[0].emotions,t.form.props=n.data[0].props,t.form.journey=n.data[0].journey,t.form.personas=n.data[0].personas,t.form.products=n.data[0].products,t.editing=!1,t.edited_fields.length=0})).catch((function(t){return console.log(t)})));case 6:return a.next=8,regeneratorRuntime.awrap(u()({method:"get",url:"/api/insights/files/"+e}).then((function(e){t.uploadedFiles=e.data})));case 8:case"end":return a.stop()}}))}))},methods:{onInputChanged:function(t){-1===this.edited_fields.indexOf(t)?this.edited_fields.push(t):console.log(this.edited_fields)},onEdit:function(){var t,e,n,a,r,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:e=!0,n=!1,a=void 0,s.prev=3,r=this.edited_fields[Symbol.iterator]();case 5:if(e=(i=r.next()).done){s.next=12;break}return t=i.value,s.next=9,regeneratorRuntime.awrap(u()({method:"put",url:"/api/insights/"+this.form.id,data:Object(W["a"])({},t,this.form[t])}));case 9:e=!0,s.next=5;break;case 12:s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](3),n=!0,a=s.t0;case 18:s.prev=18,s.prev=19,e||null==r.return||r.return();case 21:if(s.prev=21,!n){s.next=24;break}throw a;case 24:return s.finish(21);case 25:return s.finish(18);case 26:d.$emit("insight-data-changed","item-updated"),document.getElementById("right-sidepanel").style.width="0px",this.$store.commit({type:"alert",show:2,variant:"success",content:"insight updated"});case 30:case"end":return s.stop()}}),null,this,[[3,14,18,26],[19,,21,25]])},onAdd:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(u()({method:"post",url:"/api/insights",data:this.form}));case 2:d.$emit("insight-data-changed","item-updated"),document.getElementById("right-sidepanel").style.width="0px",this.$store.commit({type:"alert",show:2,variant:"success",content:"insight added"});case 5:case"end":return t.stop()}}),null,this)},onReset:function(){this.editing=!1},onArchive:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return t="/api/insights/",t+=this.form.id,console.log(t),e.next=5,regeneratorRuntime.awrap(u()({method:"PUT",url:t,data:{archived:1}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})));case 5:d.$emit("insight-data-changed","archived"),document.getElementById("right-sidepanel").style.width="0px",this.$store.commit({type:"alert",show:3,variant:"warning",content:"insight archived, NOTE: data is not deleted, if this was done unintentially please reach out to the admin"});case 8:case"end":return e.stop()}}),null,this)},submitFiles:function(){var t=new FormData;t.append("file",this.file),t.append("filename","blank"),u()({method:"post",url:"/api/insights/files/"+this.form.id,data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){})).catch((function(t){}))},deleteFile:function(t){u()({method:"delete",url:"/api/insights/files/"+this.form.id+"?file_id="+t})},getFile:function(t){u()({method:"get",url:"/api/insights/files/"+this.form.id+"?file_id="+t}).then((function(t){var e=window.URL.createObjectURL(new Blob([t.data],{type:"multipart/form-data"})),n=document.createElement("a"),a="unknown",r=t.headers["content-disposition"],i=r.split("filename=");a=i[1],n.href=e,n.setAttribute("download",a),document.body.appendChild(n),n.click()}))}}}),Ht=Kt,Jt=(n("cf50"),Object(h["a"])(Ht,Gt,Ut,!1,null,"4fcb27fe",null)),Qt=Jt.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"0px"}},[n("div",{staticClass:"md-form mt-0",attrs:{id:"card-search"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search for user insight","aria-label":"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),n("br"),n("b-card-group",{attrs:{columns:""}},t._l(t.filterItems(t.cards),(function(e){return n("b-card",{key:e.name,staticClass:"card",class:e.experience_vector},[n("b-card-text",[n("span",{staticClass:"badge badge-pill badge-success",class:e.experience_vector},[t._v(" "+t._s(e.experience_vector))]),n("br"),n("q",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.title))]),n("b-button",{attrs:{href:"javascript:void(0)",variant:"outline-secondary"},on:{click:function(n){return t.OpenDetail(e.id)}}},[t._v("Open insight")])],1)],1)})),1)],1)},Yt=[],Xt={data:function(){return{cards:[],search:"",columns:4}},beforeCreate:function(){var t=this,e="/api/insights";u.a.get(e).then((function(e){t.cards=e.data})).catch((function(t){return console.log(t)}))},methods:{OpenDetail:function(t){d.$emit("insight-selection-changed",this.selectedRow=t)},filterItems:function(t){var e=this;return t.filter((function(t){var n=new RegExp("("+e.search+")","i");return JSON.stringify(t).match(n)}))}}},Zt=Xt,te=(n("a86e"),Object(h["a"])(Zt,Wt,Yt,!1,null,"4fb411af",null)),ee=te.exports,ne={name:"insight-panel",components:{"insight-detail":Qt,"insight-card":ee},data:function(){return{detailKey:0,dataKey:0,view:"card",selection:null}},watch:{$route:function(t,e){d.$emit("insight-selection-changed",this.selectedRow=this.$route.params.id)}},methods:{expandDetail:function(){document.getElementById("right-sidepanel").style.width="80%"},closeDetail:function(){document.getElementById("right-sidepanel").style.width="0px"},closeNav:function(){document.getElementById("left-sidepanel").style="left: -115px"},addDataAction:function(){this.detailKey+=1,d.$emit("insight-selection-changed",this.selectedRow=null)},changeView:function(t){this.view=t}},mounted:function(){var t=this;d.$on("insight-selection-changed",(function(e){document.getElementById("right-sidepanel").style.width="50%",t.selection=e})),d.$on("insight-data-changed",(function(e){t.dataKey=1})),this.$route.params.id&&d.$emit("insight-selection-changed",this.selectedRow=this.$route.params.id)}};var ae=ne,re=(n("e7cb"),Object(h["a"])(ae,Vt,Lt,!1,null,"7c68691b",null)),ie=re.exports,se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("Admin Page")]),n("div",{staticClass:"test-header row",staticStyle:{margin:"15px"}},[n("div",{staticClass:"col-4"},[t._v(" Selection: "),n("span",[t._v(t._s(t.selectedRows[0]))]),n("br"),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.resetPasswordforUser(t.selectedRows)}}},[t._v("Reset Password")])]),n("div",{staticClass:"col-2"},[n("span",[t._v(" Search: ")]),n("input",{attrs:{type:"text",id:"filter-text-box",placeholder:"Filter..."},on:{input:function(e){return t.onFilterTextBoxChanged()}}})])]),n("ag-grid-vue",{staticClass:"ag-theme-material",staticStyle:{width:"100vl",height:"500px"},attrs:{columnDefs:t.columnDefs,rowData:t.rowData,modules:t.modules,rowSelection:"single"},on:{"selection-changed":t.onSelectionChanged,"grid-ready":t.onGridReady,"cell-value-changed":t.onCellValueChanged}})],1)},oe=[],le={name:"ProductTable",data:function(){return{columnDefs:null,rowData:null,rowSelection:null,selectedRows:[],gridApi:null,gridOptions:null,modules:M["a"],defaultColDef:null}},components:{AgGridVue:B["AgGridVue"]},methods:{onGridReady:function(t){this.gridApi=t.api,this.columnApi=t.columnApi},onFilterTextBoxChanged:function(){this.gridApi.setQuickFilter(document.getElementById("filter-text-box").value)},onCellValueChanged:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.data.username,t.data.role),e.next=3,regeneratorRuntime.awrap(u()({method:"put",url:"/api/users/"+t.data.user_id,data:{role:t.data.role}}));case 3:case"end":return e.stop()}}))},onSelectionChanged:function(){this.selectedRows=this.gridApi.getSelectedRows()},resetPasswordforUser:function(t){console.log(t[0].user_id),u()({method:"put",url:"/api/users/"+t[0].user_id+"/password-reset"}),this.$store.commit({type:"alert",show:5,variant:"success",content:t[0].username+" password updated"})}},beforeMount:function(){var t=this;this.columnDefs=[{headerName:"User ID",field:"user_id",width:75},{headerName:"Username",field:"username",filter:"agTextColumnFilter",width:200},{headerName:"Role",field:"role",filter:"agTextColumnFilter",width:100,editable:!0}],this.defaultColDef={sortable:!0,resizable:!0,filter:!0,getQuickFilterText:function(t){return t.value.name}},this.gridOptions={},this.rowSelection="single",this.gridOptions.rowHeight=100,fetch("/api/users").then((function(t){return t.json()})).then((function(e){return t.rowData=e}))},mounted:function(){}};var ce=le,ue=Object(h["a"])(ce,se,oe,!1,null,null,null),de=ue.exports,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-alert",{attrs:{show:!1===this.$store.state.authenticated,variant:"info",dismissible:""}},[t._v(" Please log in.. ")]),"login"===t.form_mode?n("div",{attrs:{id:"login"}},[n("h1",[t._v("Login")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.username,expression:"input.username"}],attrs:{required:"",type:"text",name:"username",placeholder:"Email"},domProps:{value:t.input.username},on:{input:function(e){e.target.composing||t.$set(t.input,"username",e.target.value)}}}),n("br"),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],attrs:{required:"",id:"password",type:"password",name:"password",placeholder:"Password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}}),n("br"),n("br"),n("div",{staticClass:"row"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.login()}}},[t._v("login")]),n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.changeView("register")}}},[t._v("register")]),n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.changeView("reset_password")}}},[t._v("reset password")])]),n("a",{attrs:{href:"mailto:blank"}},[t._v("Request help")])]):"register"===t.form_mode?n("div",{attrs:{id:"login"}},[n("h1",[t._v("Register")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.username,expression:"input.username"}],attrs:{type:"text",name:"username",placeholder:"Email"},domProps:{value:t.input.username},on:{input:function(e){e.target.composing||t.$set(t.input,"username",e.target.value)}}}),n("br"),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],attrs:{id:"password",type:"password",name:"password",placeholder:"Password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}}),n("br"),n("br"),n("div",{staticClass:"row"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.changeView("login")}}},[t._v("cancel")]),n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.register()}}},[t._v("register")])]),n("a",{attrs:{href:"mailto:blank"}},[t._v("Request help")])]):"reset_password"===t.form_mode?n("div",{attrs:{id:"login"}},[n("h1",[t._v("Change Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.username,expression:"input.username"}],attrs:{type:"text",name:"username",placeholder:"Email"},domProps:{value:t.input.username},on:{input:function(e){e.target.composing||t.$set(t.input,"username",e.target.value)}}}),n("br"),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],attrs:{id:"password",type:"password",name:"password",placeholder:"Current Password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}}),n("br"),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.new_password,expression:"input.new_password"}],attrs:{type:"password",name:"password",placeholder:"New Password"},domProps:{value:t.input.new_password},on:{input:function(e){e.target.composing||t.$set(t.input,"new_password",e.target.value)}}}),n("br"),n("br"),n("div",{staticClass:"row"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.changeView("login")}}},[t._v("back")]),n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.changeView("reset_password")}}},[t._v("Change Password")]),n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.changeView("reset_password")}}},[t._v("forgot password?")])]),n("a",{attrs:{href:"mailto:blank"}},[t._v("Request help")])]):t._e()],1)},fe=[],me=(n("caad"),n("2532"),{name:"Login",data:function(){return{input:{username:"",password:"",new_password:""},form_mode:"login"}},beforeMount:function(){},methods:{changeView:function(t){this.form_mode=t},login:function(){var t=this,e=this.input.username,n=this.input.password;this.$store.dispatch("login",{username:e,password:n}).then((function(e){t.$store.commit({type:"alert",show:2,variant:"info",content:"User Logged In"}),t.$router.push("/")})).catch((function(e){t.$store.commit({type:"alert",show:!0,variant:"danger",content:"The username and / or password is incorrect"}),console.log("The username and / or password is incorrect")}))},register:function(){var t=this;""!=this.input.username&&""!=this.input.password&&this.input.username.includes(".com")?(u()({method:"post",url:"/api/users",data:t.input,header:{"Content-Type":"application/json"}}).then((function(e){console.log(e),t.input.authenticated=e.data[0].authenticated})).catch((function(t){console.log(t)})),t.$store.commit({type:"alert",show:10,variant:"info",content:"Succesfully Registered Please log in when you get approval"})):t.$store.commit({type:"alert",show:2,variant:"danger",content:"An email is required"})},reset_password:function(){}}}),he=me,ve=(n("99fe"),Object(h["a"])(he,pe,fe,!1,null,"e6b9ad42",null)),be=ve.exports,ge=(n("be4d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"container purple-gradient",attrs:{align:"center"}},[n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"}},[n("router-link",{attrs:{to:"/insight"}},[n("i",{staticClass:"fa fa-exclamation fa-5x"}),n("h1",[t._v("Insight")])])],1),n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"}},[n("router-link",{attrs:{to:"/persona"}},[n("i",{staticClass:"fa fa-user fa-5x"}),n("h1",[t._v("Persona")])])],1),n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"}},[n("router-link",{attrs:{to:"/product"}},[n("i",{staticClass:"fa fa-laptop fa-5x"}),n("h1",[t._v("Product")])])],1)]),n("hr")])}),_e=[],ye=(n("e4bf"),{}),we=Object(h["a"])(ye,ge,_e,!1,null,"0fdb37fe",null),xe=we.exports,Ce=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ke=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"container"},[n("h1",[t._v("Can·on")]),n("p",[n("i",[t._v("noun.")]),t._v(" the body of rules, principles, or standards accepted as axiomatic and universally binding in a field of study or art")]),n("br"),n("h1",[t._v("About")]),n("hr"),n("p",[t._v("Large firms often have trouble managing products in a cohesive manner across porduct teams, it requires overhead, management and coordination that often is lost especially in less tech forward firms. This product is designed to provide a singular place for product teams to store share and collaborate design artifacts such as customer insight in a light-weight way. ")]),n("hr"),n("h2",[t._v("Components:")]),n("h3",[t._v("Insights")]),n("p",[t._v("Singular “nuggets” of user information, representing the base level of knowledge of a particular user at a particular time, and their feedback on an interaction with on of our digital products ")]),n("h3",[t._v("Personas")]),n("p",[t._v("Collection of information that describes a certain user group that will or might be using a digital product ")]),n("h3",[t._v("Products")]),n("p",[t._v("Individual digital assets that represent a consistent experience and provide value to users through a digital journey ")]),n("hr"),n("h3",[t._v("Versioning")]),n("p",[t._v("v0.0.8 - Beta Release")]),n("hr"),n("h3",[t._v("Contributing and Feedback")]),n("a",{attrs:{href:"https://github.com/johnazzi430/canon-design-artifact-repository"}},[t._v("github.com/canon-design-artifact-repository")]),n("hr")])])}],je={data:function(){},methods:{changeView:function(t){this.selection=t}}},$e=je,De=(n("3b62"),Object(h["a"])($e,Ce,ke,!1,null,"6354a5e1",null)),Ie=De.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:t.refresh_key,staticClass:"container main"},[a("h1",[t._v("Playlist")]),a("div",{staticClass:"row"},[a("div",{staticClass:"md-form mt-0 col-8",attrs:{id:"card-search"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search for item","aria-label":"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("b-button-group",{staticClass:"mx-1"},[a("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.clearPlaylist()}}},[t._v("Clear Playlist")])],1)],1),a("br"),a("draggable",{on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.cards,callback:function(e){t.cards=e},expression:"cards"}},t._l(t.filterItems(t.cards),(function(e){return a("b-card",{key:e.id+e.source,staticClass:"card",class:[e.experience_vector,e.source]},[a("b-card-text",[a("h4",{staticStyle:{"text-align":"left"}},[t._v(t._s(t._f("capitalize")(e.source))+" id: "+t._s(e.id))]),"persona"===e.source?a("div",[1==e.avatar?a("div",[a("img",{staticClass:"avatar",attrs:{src:"/api/persona/avatar/"+e.id}})]):a("div",[a("img",{staticClass:"avatar",attrs:{src:n("d74c"),alt:"Avatar"}})])]):t._e(),t._v(" "+t._s(e.name)+" "+t._s(e.title)+" "+t._s(e.description)+" "+t._s(e.quote)+" "),a("div",{staticClass:"row"},[a("b-button",{attrs:{variant:"outline-secondary",to:"/"+e.source+"/"+e.id}},[t._v(" open "),a("i",{staticClass:"fa fa-angle-double-right"})]),a("playlist-add",{key:e.id,style:{right:"30px",position:"absolute"},attrs:{id:"tooltip-target-1",source:e.source,source_id:e.id}})],1)])],1)})),1)],1)},Se=[],Pe=n("310e"),Ee=n.n(Pe),Ae={name:"playlist",components:{"playlist-add":E,draggable:Ee.a},data:function(){return{cards:[{}],search:"",refresh_key:0,options:{dropzoneSelector:"ul",draggableSelector:"li",handlerSelector:null,reactivityEnabled:!0,multipleDropzonesItemsDraggingEnabled:!0,showDropzoneAreas:!0,onDrop:function(t){},onDragstart:function(t){},onDragenter:function(t){},onDragend:function(t){}}}},beforeMount:function(){var t=this,e="/api/playlist?details=True";u.a.get(e).then((function(e){t.cards=e.data})).catch((function(t){return console.log(t)}))},computed:{},methods:{removeFromPlaylist:function(t,e){return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(u()({method:"delete",url:"/api/playlist",params:{source_table:t,source_id:e}}));case 2:case"end":return n.stop()}}))},clearPlaylist:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.cards);case 1:if((e.t1=e.t0()).done){e.next=7;break}return t=e.t1.value,e.next=5,regeneratorRuntime.awrap(u()({method:"delete",url:"/api/playlist",params:{source_table:this.cards[t].source,source_id:this.cards[t].id}}));case 5:e.next=1;break;case 7:this.refresh_key+=1,this.cards=[];case 9:case"end":return e.stop()}}),null,this)},toggleSearch:function(t){this.search!=t?this.search=t:this.search=""},filterItems:function(t){var e=this;return t.filter((function(t){var n=new RegExp("("+e.search+")","i");return JSON.stringify(t).match(n)}))}}},Oe=Ae,Te=(n("d315"),Object(h["a"])(Oe,Re,Se,!1,null,"18fa5fe8",null)),Fe=Te.exports;a["default"].use(T["a"]);var Ne=new T["a"]({mode:"history",routes:[{path:"/",name:"home",component:xe},{path:"/login",name:"login",component:be},{path:"/admin",name:"admin",component:de,beforeEnter:function(t,e,n){"admin"===p.getters.user.role?n():n(!1)}},{path:"/persona",name:"persona default",component:bt,children:[{path:":id",component:bt}]},{path:"/product",name:"product default",component:Mt,children:[{path:":id",component:Mt}]},{path:"/insight",name:"insight default",component:ie,children:[{path:":id",component:ie}]},{path:"/playlist",name:"playlist",component:Fe},{path:"/about",name:"about",component:Ie}]});Ne.beforeEach((function(t,e,n){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if("login"!==t.name){e.next=6;break}return p.state.auth_success,n(),e.abrupt("return");case 6:return e.next=8,regeneratorRuntime.awrap(p.dispatch("enter"));case 8:if(!p.getters.isLoggedIn){e.next=13;break}return n(),e.abrupt("return");case 13:n("/login");case 14:case"end":return e.stop()}}))}));var ze=Ne;n("e532"),n("8d63"),n("d123"),n("ab8b"),n("2dd8"),n("3a62"),n("15f5"),n("7051");a["default"].config.productionTip=!1,a["default"].use(x["a"]),a["default"].use($.a),a["default"].component("multiselect",k.a),a["default"].component("playlist-add",E),a["default"].prototype.$http=u.a;var qe=localStorage.getItem("token");qe&&(a["default"].prototype.$http.defaults.headers.common["Authorization"]=qe),a["default"].component("multiselect",k.a),new a["default"]({router:ze,store:p,render:function(t){return t(w)}}).$mount("#app"),a["default"].filter("capitalize",(function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""})),a["default"].filter("formatDate",(function(t){if(t)return O.a.utc(t).fromNow()})),ze.start(w,"#Entry")},"58de":function(t,e,n){},"5b493":function(t,e,n){"use strict";var a=n("58de"),r=n.n(a);r.a},6476:function(t,e,n){},"6a80":function(t,e,n){},"7c66":function(t,e,n){"use strict";var a=n("a818"),r=n.n(a);r.a},"85ec":function(t,e,n){},"97d2":function(t,e,n){},"99fe":function(t,e,n){"use strict";var a=n("ce04"),r=n.n(a);r.a},"9f7d":function(t,e,n){"use strict";var a=n("6a80"),r=n.n(a);r.a},a3c2:function(t,e,n){"use strict";var a=n("0b7d"),r=n.n(a);r.a},a818:function(t,e,n){},a86e:function(t,e,n){"use strict";var a=n("07dd"),r=n.n(a);r.a},aa10:function(t,e,n){"use strict";var a=n("06d4"),r=n.n(a);r.a},b564:function(t,e,n){},be4d:function(t,e,n){"use strict";var a=n("f1a0"),r=n("1e69"),i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,null,null);s.exports},c4bf:function(t,e,n){},c5ce:function(t,e,n){},c856:function(t,e,n){"use strict";var a=n("b564"),r=n.n(a);r.a},ce04:function(t,e,n){},cf50:function(t,e,n){"use strict";var a=n("23cc"),r=n.n(a);r.a},d315:function(t,e,n){"use strict";var a=n("c5ce"),r=n.n(a);r.a},d74c:function(t,e,n){t.exports=n.p+"static/img/img_avatar2.55221557.png"},e0bc:function(t,e,n){},e40b:function(t,e,n){"use strict";var a=n("3ffc"),r=n.n(a);r.a},e4bf:function(t,e,n){"use strict";var a=n("c4bf"),r=n.n(a);r.a},e7cb:function(t,e,n){"use strict";var a=n("97d2"),r=n.n(a);r.a},f1a0:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("h1",[t._v("404 PAGE NOT FOUND")])])}];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))}});
//# sourceMappingURL=app.34ea02be.js.map